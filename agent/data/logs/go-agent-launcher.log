2024-03-12 18:46:13,044 INFO  [TouchLoopThread-1] Lockfile:103 - Using lock file: /go/.agent-bootstrapper.running
2024-03-12 18:46:13,343 ERROR [WrapperJarAppMain] ServerBinaryDownloader:88 - Couldn't update admin/agent-launcher.jar. Sleeping for 1m. Error: 
org.apache.http.conn.HttpHostConnectException: Connect to gocdserver:8153 [gocdserver/172.28.0.3] failed: Connection refused
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:159)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:373)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:394)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)
	at com.thoughtworks.go.agent.launcher.ServerBinaryDownloader.fetchUpdateCheckHeaders(ServerBinaryDownloader.java:104)
	at com.thoughtworks.go.agent.launcher.ServerBinaryDownloader.downloadIfNecessary(ServerBinaryDownloader.java:80)
	at com.thoughtworks.go.agent.launcher.AgentLauncherImpl.doLaunch(AgentLauncherImpl.java:91)
	at com.thoughtworks.go.agent.launcher.AgentLauncherImpl.lambda$launch$0(AgentLauncherImpl.java:69)
	at com.thoughtworks.go.logging.LogConfigurator.runWithLogger(LogConfigurator.java:62)
	at com.thoughtworks.go.agent.launcher.AgentLauncherImpl.launch(AgentLauncherImpl.java:69)
	at com.thoughtworks.go.agent.bootstrapper.AgentBootstrapper.go(AgentBootstrapper.java:76)
	at com.thoughtworks.go.agent.bootstrapper.AgentBootstrapper.lambda$main$0(AgentBootstrapper.java:57)
	at com.thoughtworks.go.logging.LogConfigurator.runWithLogger(LogConfigurator.java:53)
	at com.thoughtworks.go.agent.bootstrapper.AgentBootstrapper.main(AgentBootstrapper.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at com.thoughtworks.gocd.Boot.run(Boot.java:90)
	at com.thoughtworks.gocd.Boot.main(Boot.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.tanukisoftware.wrapper.WrapperJarApp.run(WrapperJarApp.java:451)
	at java.base/java.lang.Thread.run(Unknown Source)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source)
	at java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 31 common frames omitted
2024-03-12 18:47:13,408 INFO  [WrapperJarAppMain] ServerBinaryDownloader:114 - Downloading agent.jar
2024-03-12 18:47:13,413 INFO  [WrapperJarAppMain] ServerBinaryDownloader:121 - Got server response
2024-03-12 18:47:13,469 INFO  [WrapperJarAppMain] ServerBinaryDownloader:129 - Piped the stream to admin/agent
2024-03-12 18:47:13,470 INFO  [WrapperJarAppMain] PerfTimer:52 - Performance: Downloading new admin/agent with md5 signature: fa78cc0567df202d6d378e2a5fcfbd72 took 62ms
2024-03-12 18:47:13,608 INFO  [WrapperJarAppMain] AgentProcessParentImpl:51 - Agent is version: 20.4.0-11749
2024-03-12 18:47:13,675 INFO  [WrapperJarAppMain] ServerBinaryDownloader:114 - Downloading agent-plugins.zip
2024-03-12 18:47:13,680 INFO  [WrapperJarAppMain] ServerBinaryDownloader:121 - Got server response
2024-03-12 18:47:13,684 INFO  [WrapperJarAppMain] ServerBinaryDownloader:129 - Piped the stream to admin/agent-plugins.zip
2024-03-12 18:47:13,684 INFO  [WrapperJarAppMain] PerfTimer:52 - Performance: Downloading new admin/agent-plugins.zip with md5 signature: aa21e551358da64f943ddd3f89286139 took 9ms
2024-03-12 18:47:13,688 INFO  [WrapperJarAppMain] ServerBinaryDownloader:114 - Downloading tfs-impl.jar
2024-03-12 18:47:13,692 INFO  [WrapperJarAppMain] ServerBinaryDownloader:121 - Got server response
2024-03-12 18:47:13,716 INFO  [WrapperJarAppMain] ServerBinaryDownloader:129 - Piped the stream to admin/tfs-impl.jar
2024-03-12 18:47:13,717 INFO  [WrapperJarAppMain] PerfTimer:52 - Performance: Downloading new admin/tfs-impl.jar with md5 signature: 6274a2dda3d3a29a6d5661b8c0c945fb took 29ms
2024-03-12 18:47:13,719 INFO  [WrapperJarAppMain] AgentProcessParentImpl:70 - Launching Agent with command: /gocd-jre/bin/java -Xms128m -Xmx256m -Dgo.console.stdout=true -Dgo.console.stdout=true -Dagent.plugins.md5=aa21e551358da64f943ddd3f89286139 -Dagent.binary.md5=fa78cc0567df202d6d378e2a5fcfbd72 -Dagent.launcher.md5=82d341216393a4280053ec5e27cafae1 -Dagent.tfs.md5=6274a2dda3d3a29a6d5661b8c0c945fb -jar agent.jar -serverUrl http://gocdserver:8153/go -sslVerificationMode FULL
2024-03-12 18:51:12,067 INFO  [TouchLoopThread-1] Lockfile:103 - Using lock file: /go/.agent-bootstrapper.running
2024-03-12 18:51:12,385 INFO  [WrapperJarAppMain] ServerBinaryDownloader:141 - Response code: 503
2024-03-12 18:51:12,388 ERROR [WrapperJarAppMain] ServerBinaryDownloader:88 - Couldn't update admin/agent-launcher.jar. Sleeping for 1m. Error: 
org.apache.http.client.ClientProtocolException: Problem accessing GoCD Server at http://gocdserver:8153/go/admin/agent-launcher.jar
Possible causes:
1. Your GoCD Server is down, not accessible or starting up.
2. This agent might be incompatible with your GoCD Server. Please fix the version mismatch between GoCD Server and GoCD Agent.

	at com.thoughtworks.go.agent.launcher.ServerBinaryDownloader.handleInvalidResponse(ServerBinaryDownloader.java:146)
	at com.thoughtworks.go.agent.launcher.ServerBinaryDownloader.fetchUpdateCheckHeaders(ServerBinaryDownloader.java:106)
	at com.thoughtworks.go.agent.launcher.ServerBinaryDownloader.downloadIfNecessary(ServerBinaryDownloader.java:80)
	at com.thoughtworks.go.agent.launcher.AgentLauncherImpl.doLaunch(AgentLauncherImpl.java:91)
	at com.thoughtworks.go.agent.launcher.AgentLauncherImpl.lambda$launch$0(AgentLauncherImpl.java:69)
	at com.thoughtworks.go.logging.LogConfigurator.runWithLogger(LogConfigurator.java:62)
	at com.thoughtworks.go.agent.launcher.AgentLauncherImpl.launch(AgentLauncherImpl.java:69)
	at com.thoughtworks.go.agent.bootstrapper.AgentBootstrapper.go(AgentBootstrapper.java:76)
	at com.thoughtworks.go.agent.bootstrapper.AgentBootstrapper.lambda$main$0(AgentBootstrapper.java:57)
	at com.thoughtworks.go.logging.LogConfigurator.runWithLogger(LogConfigurator.java:53)
	at com.thoughtworks.go.agent.bootstrapper.AgentBootstrapper.main(AgentBootstrapper.java:57)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at com.thoughtworks.gocd.Boot.run(Boot.java:90)
	at com.thoughtworks.gocd.Boot.main(Boot.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.tanukisoftware.wrapper.WrapperJarApp.run(WrapperJarApp.java:451)
	at java.base/java.lang.Thread.run(Unknown Source)
2024-03-12 18:52:12,443 INFO  [WrapperJarAppMain] ServerBinaryDownloader:114 - Downloading agent.jar
2024-03-12 18:52:12,448 INFO  [WrapperJarAppMain] ServerBinaryDownloader:121 - Got server response
2024-03-12 18:52:12,493 INFO  [WrapperJarAppMain] ServerBinaryDownloader:129 - Piped the stream to admin/agent
2024-03-12 18:52:12,494 INFO  [WrapperJarAppMain] PerfTimer:52 - Performance: Downloading new admin/agent with md5 signature: fa78cc0567df202d6d378e2a5fcfbd72 took 51ms
2024-03-12 18:52:12,617 INFO  [WrapperJarAppMain] AgentProcessParentImpl:51 - Agent is version: 20.4.0-11749
2024-03-12 18:52:12,674 INFO  [WrapperJarAppMain] ServerBinaryDownloader:114 - Downloading agent-plugins.zip
2024-03-12 18:52:12,678 INFO  [WrapperJarAppMain] ServerBinaryDownloader:121 - Got server response
2024-03-12 18:52:12,680 INFO  [WrapperJarAppMain] ServerBinaryDownloader:129 - Piped the stream to admin/agent-plugins.zip
2024-03-12 18:52:12,680 INFO  [WrapperJarAppMain] PerfTimer:52 - Performance: Downloading new admin/agent-plugins.zip with md5 signature: b7b5caa83b4fc5d667262de7b42a05c5 took 6ms
2024-03-12 18:52:12,684 INFO  [WrapperJarAppMain] ServerBinaryDownloader:114 - Downloading tfs-impl.jar
2024-03-12 18:52:12,688 INFO  [WrapperJarAppMain] ServerBinaryDownloader:121 - Got server response
2024-03-12 18:52:12,704 INFO  [WrapperJarAppMain] ServerBinaryDownloader:129 - Piped the stream to admin/tfs-impl.jar
2024-03-12 18:52:12,704 INFO  [WrapperJarAppMain] PerfTimer:52 - Performance: Downloading new admin/tfs-impl.jar with md5 signature: 6274a2dda3d3a29a6d5661b8c0c945fb took 20ms
2024-03-12 18:52:12,705 INFO  [WrapperJarAppMain] AgentProcessParentImpl:70 - Launching Agent with command: /gocd-jre/bin/java -Xms128m -Xmx256m -Dgo.console.stdout=true -Dgo.console.stdout=true -Dagent.plugins.md5=b7b5caa83b4fc5d667262de7b42a05c5 -Dagent.binary.md5=fa78cc0567df202d6d378e2a5fcfbd72 -Dagent.launcher.md5=82d341216393a4280053ec5e27cafae1 -Dagent.tfs.md5=6274a2dda3d3a29a6d5661b8c0c945fb -jar agent.jar -serverUrl http://gocdserver:8153/go -sslVerificationMode FULL
